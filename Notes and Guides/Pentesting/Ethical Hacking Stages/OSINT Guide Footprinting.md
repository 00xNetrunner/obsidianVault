---
tags:
  - Pentesting
aliases:
  - 00xNetrunner
banner: https://i.imgur.com/G3aDnZs.jpeg
sticker: lucide//eye
---
![[DALLÂ·E 2023-11-18 16.51.22.png.png|360]]
#  1.0 Footprinting Methodology
------
Most pentesting companies will use a Footprinting methodology. An example of this would be:~

1. Examine authoritative bodies (IANA, ICANN, RIPE etc.).
2. Examine web site(s)
3. Use web based tools
4. Use local tools (OS command or download)
5. Conduct an Internet Search
6. Web site copying
7. Social Engineering
8. Dumpster Diving
9. Other techniques



> ðŸ’¡ Note (1): Professional penetration testers will perhaps spend 3 or 4 hours Footprinting whereas hackers can spend months on the process

> ðŸ’¡ Note (2); Some of the applications below can take a long time to run and master (e.g Maltego so the following exercises are mainly designed to introduce you to the tool)


# 1.2 Examine Authoritative Bodies
--------
Internet registry sites are the main Internet bodies and can give excellent information to be a hacker and security specialist alike.

The five regional registries and the areas they cover: - 

â€¢ *RIPE* - Europe, the Middle East, Central Asia
â€¢ *AfriNIC* - Africa, portions of the Indian Ocean
â€¢ *APNIC* - Portions of Asia, portions of Oceania
â€¢ *ARIN* - Canada, many Caribbean and North Atlantic islands, and the United States
â€¢ *LACNIC* - Latin America, portions of the Caribbean

- Use the following **WHOIS** database to discover information regarding St Andrews University (st-andrews.ac.uk) ~ [LINK](https://apps.db.ripe.net/db-web-ui/fulltextsearch)

>> Take Note! 
>> These databases are normally termed the WHOIS databases

# 1.3 Web Based Tools

There are a lot of great tools out there that make Footprinting easier to perform

> This site makes searching the **WHOIS** database easier: ~ [WHOIS](![[Pasted image 20231118180628.png]])

>> Take Note! the related TLDs (top level domains) for the above site as shown in the Figure 1. Find the link down the right hand side of the webpage. 
![[Pasted image 20231118181711.png]]

>This can be useful to pentester or hackers, because they can make a fake site with a similar domain name, that would look exactly the same as the original site. and if you log into one of these fakes sites, hackers will then have your credentials or passwords for said site. 

> Take note! There are other tools for whois.domaintools.com as shown in Figure 2
> (Note to use some of the tools you will need to pay a monthly or yearly subscriptions)
![[Pasted image 20231118182038.png]]

#### Finding Sub-Domains
It can be very useful to find out about all the subdomains owned by a company

> Lets use the following website to get this information about **st-andrews.ac.uk**
>> [dnsdumpster.com](https://dnsdumpster.com/)

This website is designed with the intent to cater to hackers and pentesters by providing access to login pages associated with various websites. These login pages are primarily intended for administrators or site administrators to facilitate functions such as updating content and rectifying bugs, among other administrative tasks.

#### Finding Web-Servers
Finding a company website via Google (or other search engine is simple). The Netcraft website gives more useful information. 

> Lets try to identify which web server are running for St Andrews University using [searchdns-netcraft](https://searchdns.netcraft.com/) as seen in Figure 3

![[Pasted image 20231118183919.png]]
>> Figure 3: Netcraft query

- Its important to rake note of what *OS* version is running
- What *Web-Server* is running (Apache? If so what version)

#### Finding Mail Server
Finding an *E-MAIL* server (*SMTP* or *ESMTP*) can be easily achieved through *DNS* queries, specifically the *MX* record. A tool such as **Mxtoolbox** offers a straightforward and passive approach to determine the IP address associated with a company's mail server.

> Use the following website to find the st-andrews.ac.uk mail servers.
>> [MXTOOLBOX](https://mxtoolbox.com/index.aspx)


# 1.4 Google Hacking
-----
Google hacking is a commonly employed technique used by hackers to exploit vulnerable targets and procure sensitive data or information through search engines, such as Google. Despite Google's efforts to impede certain well-known Google hacking queries, 

this method can still be effectively employed as an indispensable tool for hackers and penetration testers to gather intelligence on a target or identify potential victims.


#### The Google Interface
Okay lets make sure you are familiar with google interface. Note this changes regularly may not look exactly as featured in the examples below: ~

> Take note of the different search options available.
>> https://www.google.com/advanced_search


#### Google Hacking Basics

For reference, this table will present a list of the most common Google advanced operators. 

| Operator   | Description                                                                                                                    |
|------------|--------------------------------------------------------------------------------------------------------------------------------|
| `Intitle`  | Locates strings in the title of a page. Can be used with other operators.                                                      |
| `Allintitle` | Searches for all terms in the title of a page. Not very successful with other operators.                                       |
| `Inurl`    | Locates strings in the URL of a page. Can be used with other operators.                                                        |
| `Allinurl` | Searches for all terms in the URL of a page. Not very successful with other operators.                                         |
| `Filetype` | Locates specific types of files based on the file extension. Synonymous with ext. Best used with other search information, e.g. `filetype:pdf inurl:www.abertay.ac.uk`. Can be used with other operators. |
| `Allintext` | Locates all search terms in the text of a page.                                                                                 |
| `Site`     | Searches within a specific site or domain. Can be used with other operators or alone.                                          |
| `Link`     | Locate links to a specific site or URL (can be useful to find out which external sites are affiliated with your target). Not very successful with other operators. |
| `Inanchor` | Locates strings in the descriptive part of links. Can be used with other operators.                                            |
| `Daterange` | Finds pages that have been Google indexed within a specific date range. Best used with an additional search term.               |
| `Numrange` | Locates a number within a particular range. Can be used with other operators.                                                  |
| `Cache`    | Displays the cached copy of a page. Canâ€™t be used with other operators.                                                        |
| `Related`  | Return sites that are related to a specified site or URL. Not very compatible with other operators.                             |
| `Info`     | Returns summary information about a page. Not very compatible with other operators.                                            |
| `Author`   | Returns group postings by a specific author. Best used as a group search.                                                      |
| `Group`    | Searches within group names. Best used as a group search.                                                                       |
| `Insubject`| Locates strings within a group post. Best used as a group search.                                                               |
| `Msgid`    | Searches for a particular message ID in group listing. Best used as a group search.                                            |
| `Define`   | Returns definitions of a word or search term. Not very compatible with other operator.                                         |

> The syntax for using these operators is operator:search 

- `intitle:"live view / -AXIS"`
- `inurl:admin/backup`
- `inurl:login.cfm`
- `filetype:php inurl:"webeditor.php"`
- `intitle:admin intitle:login`
- `"adding new user" inurl:addnewuser -"there are no domains"`
- `filetype:php inurl:"logging.php"`

#### The Google Hacking Database

The GHDB is a huge database of queries that identify system vulnerabilities or sensitive data, you can check out the website here - [Exploit-DB](https://www.exploit-db.com/google-hacking-database)


# 1.5 Shodan Searching
Shodan.io is an online search engine that enables users to locate specific categories of computers, such as routers and servers, that are connected to the internet. It provides a range of filters to refine search results. Some individuals have also characterised Shodan.io as a search engine for service banners. These banners, which are metadata transmitted from the server to the client, may contain information about the server software, the supported service options, a welcome message, or any other details that the client can discover prior to engaging with the server.

> Please be advised that in order to fully utilize the features available on the Shodan website, it is necessary to have an account. Fortunately, Shodan offers a complimentary account upgrade to those who register using an academic email address (ending in "ac.uk"). Therefore, when registering through the provided link, please provide your university email address. 
>> [Shodan Register](https://account.shodan.io/register)

#### Basic Searching
~~~
Please note that SHODAN performs similar functions to those of Google, but with the ability to provide more precise and specific data. Like Google, the use of quotation marks can be employed to refine search results, and Boolean operators such as "+" and "-" can also be utilized.
~~~

> A cursory search of the abbreviation "IIS" yields numerous outcomes pertaining to the IIS (Internet Information Services) web server header in a multitude of nations. To specifically explore IIS sites within the confines of Great Britain, one may employ the search query "iis country:'GB'".

![[Pasted image 20231119013346.png]]
> It is also possible to search for specific versions of software such as old ones containing vulnerabilities. For example search for an older version of IIS like iis/5.0.

#### Search Filters
Some filters that can be used to narrow down a search include those featured in the Table 2.

| Filters  | Descriptions                                                        |
|----------|---------------------------------------------------------------------|
| Country  | Filters results by two letter country code.                         |
| Hostname | Filters results by specified text in the hostname or domain.        |
| Net      | Filter results by a specific IP address, range or subnet.           |
| OS       | Search for specific operating systems.                              |
| Port     | Narrow the search for specific services.                            |


Now lets conduct the following searches and note the results.

Lets conduct the following searches and note the results.

1. Apache
   ![[Pasted image 20231119014018.png]]
2. Apache country:GB
   ![[Pasted image 20231119014639.png]]
3. Apache hostname:ac.uk
![[Pasted image 20231119014748.png]]
4. Default password
![[Pasted image 20231119014853.png]]

#### Some Shodan Searches

| Shodan Searches                        |
|----------------------------------------|
| `IIS+6.0`                              |
| `Joomla`                               |
| `WordPress`                            |
| `Linksys`                              |
| `Linksys+CIT400`                       |
| `Cisco`                                |
| `port:23+ list+of+built-in+commands`   |
| `. port:80+iisstart.html`              |
| `Server: SQ-WEBCAM`                    |

   
# 1.6 Using 192.com
------
192.com allows hackers to find information about a person from telephone numbers and also census information unfortunately you need to pay to see someone full profile. 

Go to 192.com and search for information about people.
https://www.192.com/

# 1.7 Multi-information Sites
-----
Their are a lot of sites that will give you huge amounts of information. 

Have a look at the tools below and search for St Andrews University and verify that
the information you obtained from previous searches is consistent.
â€¢ https://www.robtex.com/
â€¢ https://viewdns.info/
â€¢ https://centralops.net/co/
â€¢ https://network-tools.com

# 1.8 FREEDOM OF INFORMATION ACT
-----
A relatively recent and unconventional approach to retrieving information involves the utilization of the Freedom of Information Act. This legislation encompasses a wide range of government-affiliated entities, including government departments, local authorities, the NHS, universities, colleges, state schools, and police forces. Similar legislation is prevalent in numerous countries worldwide.

- The following link contain FOI requests against Abertay.
	- https://www.whatdotheyknow.com/search/abertay/all


# 1.9 LOCAL TOOLS

Here is a selection of tools that are available from different Operating Systems

#### OWASP Mantra

OWASP Mantra is a portable version of Firefox that comes loaded with different plug-ins. OWASP Mantra can be downloaded from the tools folder or from 
	https://sourceforge.net/projects/getmantra

- Download, and run it to install. 
	- Take note! You must close any Firefox windows that are open before launching Mantra.

#### Maltego
Maltego is a multifaceted tool that serves the purposes of information gathering, visualization, and linking. Due to its extensive functionalities, Maltego necessitates a considerable investment of time to attain mastery. It is worth noting that the Community version, which will be utilized in this context, bears certain constraints, such as the limited capacity for information retrieval and the restricted capability for exporting discovered data.

- To use Maltego you must first Register an account. You can do so at the link below.
	- https://www.paterva.com/web7/community/community.php

> Take note that to use Maltego, you must have a valid e-mail account. You can use your Abertay account or for anonymity, you could create an e-mail address from https://protonmail.com/ that does not require (intrusive) validation.


â€¢ Select open a blank graph to play around from the wizard or Select New from the Global button at the top left, seen in Figure 8.
![[Pasted image 20231119032640.png]]

Think of a New graph as a new investigation

Here are some IMPORTANT directions and editing features that are useful:-
â€¢ To add an entity to the graph, drag on to the graph.
â€¢ To change properties, double-click on the entity.
â€¢ Right-Click and drag to move around.
â€¢ The wheel Zooms in/out

From the Entity Palette menu on the left, Select Infrastructure, then find
Website (itâ€™s down a little). Now drag a Website entity on to the graph and
rename to www.st-andrews.ac.uk.

![[Pasted image 20231119032818.png]] ![[Pasted image 20231119032826.png]]
- Right-Click on the and the Run Transforms menu should appear as shown
![[Pasted image 20231119032901.png]]

- To select a transform right-click on the website entity.
![[Pasted image 20231119032939.png]]

- Select Resolve to IP and run the transform to get the IP address of the website.
- Also, right-click on the Website entity, go up a level and then select Convert to Domain. Note the Back arrow must be used to get back to choose this.
![[Pasted image 20231119033021.png]]


We should now have three entities that we can investigate. I.e. The website, the IP address and the TLD (top level domain).

- Right-Click on the IP address entity and Select the All Transforms menu as shown above and select the IP Owner detail but this time select all.
![[Pasted image 20231119033103.png]]

- From the domain entity (st-andrews.ac.uk), right-click and you should see the Run Transforms as shown below: -
![[Pasted image 20231119033128.png]]

Select the domain and right-click. From the top level menu (i.e. Go back), select Machines.
![[Pasted image 20231119033226.png]]

- Select **Company Stalker**!
![[Pasted image 20231119035728.png]]


### PDF For Reference
![[Week 2 - Footprinting.pdf]]